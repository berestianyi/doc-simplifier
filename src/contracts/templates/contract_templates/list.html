{% extends 'templates/base.html' %}

{% block title %}
    <title>Contract Templates</title>
{% endblock %}

{% block body %}
    <div class="d-flex flex-row flex-wrap justify-content-center">
        <div
                class="m-2 d-flex"
                style="width: 300px; height: 150px"
                id="addTemplates"
        >
            <button
                    class="btn btn-success fw-bold d-flex flex-fill justify-content-center align-items-center"
                    hx-swap="outerHTML"
                    hx-get="{% url 'contracts:create_template' %}"
                    hx-trigger="click"
                    hx-target="#addTemplates"
            >
                Додати шаблон
            </button>
        </div>
        {% for template in templates %}
            <div class="m-2 d-flex">
                <div class="card m-2" style="width: 300px;" id="template{{ template.id }}" >
                    <div class="card-body">
                        <div class="d-flex flex-column">
                            <div>
                                <h6>Назва: {{ template.name }}</h6>
                                <h6>Для: {{ template.get_business_entity_type_display }}а</h6>
                            </div>
                            <div class="d-flex flex-row flex-wrap justify-content-center">
                                <button
                                        class="btn btn-warning flex-fill"
                                        hx-swap="outerHTML"
                                        hx-target="#template{{ template.id }}"
                                        hx-get="{% url 'contracts:update_template' template.id %}"
                                >Редагувати
                                </button>
                                <a class="btn btn-outline-secondary ms-2 flex-fill"
                                   href="{% url 'contracts:templates_download' template.id %}">Завантажити</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}